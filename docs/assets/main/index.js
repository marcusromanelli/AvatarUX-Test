System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Machine.ts","./RestManager.ts","./User.ts"],(function(t){"use strict";var e,i,n,r,a,u,s,o,l,c,h,f,p,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,l=t.AudioSource,c=t.Button,h=t.AudioClip,f=t.Component},function(t){p=t.default},function(t){m=t.default},function(t){y=t.default}],execute:function(){var g,d,b,v,M,z,P,w,A,D,R,k,B,S,U;s._RF.push({},"7462271VdFN4J38ivhu1fP1","GameManager",void 0);var q=o.ccclass,C=o.property;t("default",(g=q("GameManager"),d=C(m),b=C(y),v=C(p),M=C(l),z=C({type:c}),P=C({type:h}),g((D=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,n(e,"restManager",D,r(e)),n(e,"user",R,r(e)),n(e,"machine",k,r(e)),n(e,"audioSource",B,r(e)),n(e,"autoPlayButton",S,r(e)),n(e,"audioClick",U,r(e)),e.result=null,e.isAutoPlay=!1,e}i(e,t);var s=e.prototype;return s.start=function(){this.initialize()},s.initialize=function(){var t=this;this.restManager.requestMachineData(this.machine.machineId).then((function(e){t.initializeMachine(e)})),this.restManager.requestUserData(this.user).then((function(e){t.refreshUserData(e)}))},s.initializeMachine=function(t){this.machine.SetData(t),this.machine.node.parent.active=!0},s.refreshUserData=function(t){this.user.Update(t)},s.clickButton=function(){this.machine.isSpinning||this.roll()},s.toggleAutoPlay=function(){this.isAutoPlay=!this.isAutoPlay,this.machine.setAutoPlay(this.isAutoPlay),this.clickButton()},s.stop=function(){if(null!=this.result){var t=this;this.machine.stop(this.result,(function(){t.isAutoPlay&&t.clickButton()})),this.result=null}},s.roll=function(){var t=this;!0!==this.machine.isSpinning&&this.requestResult((function(e){null!=e&&(t.refreshUserData(e.newUserData),t.result=e,t.machine.spin(),setTimeout((function(){t.stop()}),1e3*t.machine.minRunTime))}))},s.requestResult=function(){var t=a(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.result=null,this.restManager.requestReelResult(this.user.id,this.machine.machineId).then((function(t){e(t)}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(f)).prototype,"restManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"user",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"machine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(A.prototype,"audioSource",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"autoPlayButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(A.prototype,"audioClick",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/Machine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinButton.ts","./Reel.ts","./SlotDirection.ts"],(function(e){"use strict";var t,i,n,a,r,l,o,s,u,c,h,b,f,p,d,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.CCString,u=e.Label,c=e.Prefab,h=e.Widget,b=e.CCFloat,f=e.instantiate,p=e.tween,d=e.Component},function(e){m=e.default},function(e){y=e.default},function(e){g=e.default}],execute:function(){var w,D,P,v,S,R,_,C,L,z,O,T,A,B,M,I,k,F,N,V;l._RF.push({},"e75a3lPjzhNLb8z3HrM6PP0","Machine",void 0);var W=o.ccclass,j=o.property;e("default",(w=W("Machine"),D=j(s),P=j(u),v=j(u),S=j(m),R=j(c),_=j(h),C=j(u),L=j({type:c}),z=j({type:b,range:[.01,.5],slide:!0}),w((A=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"machineId",A,a(t)),n(t,"betValueLabel",B,a(t)),n(t,"autoPlaylabel",M,a(t)),n(t,"button",I,a(t)),n(t,"_reelPrefab",k,a(t)),n(t,"widget",F,a(t)),n(t,"celebration",N,a(t)),t._machineData=void 0,n(t,"minRunTime",V,a(t)),t.reelSpinDelaySpeed=.03,t.reels=[],t.isSpinning=!1,t.onFinishStop=void 0,t.isAutoPlay=!1,t}i(t,e);var l=t.prototype;return l.SetData=function(e){this._machineData=e,this.createMachine()},l.clearChildren=function(){this.node.removeAllChildren(),this.reels=[]},l.assignChildren=function(){var e=this;this.reels=this.node.getComponentsInChildren(y);var t=1;this.reels.forEach((function(i){var n=t%2?g.Direction.Down:g.Direction.Up;i.createReel(e._machineData.numberOfRows,t+" - ",n),t++}))},l.createMachine=function(){this.betValueLabel.string="Bet value: $"+this._machineData.betValue,this.clearChildren();for(var e=0;e<this._machineData.numberOfReels;e+=1){var t=e%2?g.Direction.Down:g.Direction.Up;this.instantiateReel(t,e)}this.widget.updateAlignment()},l.instantiateReel=function(e,t){var i=f(this.reelPrefab).getComponent(y);i.createReel(this._machineData.numberOfRows,t+" - ",e),this.node.addChild(i.node),this.reels.push(i)},l.spin=function(){this.isSpinning=!0,this.disableButton(),this.spinAllReels()},l.spinAllReels=function(){for(var e=0;e<this._machineData.numberOfReels;e++)this.spinReel(e)},l.spinReel=function(e){e<0&&(e=0),e>=this._machineData.numberOfReels&&(e=this._machineData.numberOfReels-1),this.reels[e].doSpin(this.reelSpinDelaySpeed*e)},l.showSpinButton=function(){this.showButtonWithLabel("SPIN")},l.showButtonWithLabel=function(e){this.isAutoPlay||this.button.enable(),this.button.setLabel(e)},l.disableButton=function(){this.button.disable()},l.calculateSpinStopDelayTime=function(e,t){return 1e3*(t<2+e?t/4:e*(t-2)+t/4)},l.setAutoPlay=function(e){e&&this.disableButton(),this.isAutoPlay=e,this.autoPlaylabel.string=e?"AUTOPLAY ON":""},l.stop=function(e,t){var i=this;this.disableButton();var n=Math.random()/2,a=this.calculateSpinStopDelayTime(n,this._machineData.numberOfReels);setTimeout((function(){i.isSpinning=!1}),a);for(var r=function(t){var a=i.calculateSpinStopDelayTime(n,t),r=i.reels[t];setTimeout((function(){r.readyStop(e.selectedTokens[t],e.winningTokens)}),a)},l=0;l<this._machineData.numberOfReels;l+=1)r(l);this.showCelebration(e,a,t)},l.showCelebration=function(e,t,i){var n,a=this;n=e.hasPrize()?p().target(this.celebration).call((function(){a.showCelebrationLabel(e.totalPrize)})).delay(2.5).call((function(){a.hideCelebrationLabel()})):p().target(this.node).delay(.25),p().target(this.node).delay(t/1e3).call((function(){a.showGlowingTiles()})).delay(.5).then(n).call((function(){a.showSpinButton(),null!=i&&i()})).start()},l.showCelebrationLabel=function(e){this.celebration.string="WON $ "+e},l.hideCelebrationLabel=function(){this.celebration.string=""},l.showGlowingTiles=function(){for(var e=0;e<this._machineData.numberOfReels;e+=1){this.reels[e].showGlowingTiles()}},r(t,[{key:"reelPrefab",get:function(){return this._reelPrefab},set:function(e){this._reelPrefab=e,null!==e&&this.createMachine()}}]),t}(d)).prototype,"machineId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"machine_test_identification"}}),B=t(T.prototype,"betValueLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"autoPlaylabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"button",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"_reelPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"widget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"celebration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(T.prototype,"reelPrefab",[L],Object.getOwnPropertyDescriptor(T.prototype,"reelPrefab"),T.prototype),V=t(T.prototype,"minRunTime",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=T))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/MachineData.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var i,n;a._RF.push({},"ab676Fh1ndK+oxDwp2gAqrC","MachineData",void 0);var r=t.ccclass;t.property,e("default",r("MachineData")(((n=function(){this.resultPossibilities=null,this.numberOfReels=3,this.numberOfTokens=30,this.numberOfRows=3,this.betValue=1}).Machine_5_reels={resultPossibilities:{possibilities:[{id:"H3",percentage:2,value:100},{id:"H2",percentage:4,value:90},{id:"H4",percentage:6,value:80},{id:"H1",percentage:8,value:70},{id:"H5",percentage:10,value:60},{id:"H6",percentage:12,value:50},{id:"M1",percentage:14,value:40},{id:"M2",percentage:16,value:30},{id:"M3",percentage:18,value:20},{id:"M4",percentage:20,value:15},{id:"M5",percentage:22,value:10},{id:"M6",percentage:24,value:5},{id:"Q",percentage:26,value:4},{id:"9",percentage:28,value:3},{id:"10",percentage:30,value:2},{id:"A",percentage:32,value:2},{id:"K",percentage:34,value:2},{id:"J",percentage:36,value:2}]},numberOfReels:5,numberOfTokens:18,numberOfRows:3,betValue:1},i=n))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./SlotDirection.ts","./GameManager.ts","./RestManager.ts","./Server.ts","./User.ts","./Machine.ts","./Reel.ts","./Tile.ts","./MachineData.ts","./Possibility.ts","./ResultData.ts","./ResultPossibilities.ts","./ResultReel.ts","./TokenData.ts","./TokenIcon.ts","./UserData.ts","./SpinButton.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Possibility.ts",["cc"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.cclegacy,s=t._decorator}],execute:function(){var e;i._RF.push({},"5ac4fz+mxtGMYs2d7L2+ekD","Possibility",void 0);var c=s.ccclass;s.property,t("default",c("TokenPossibility")(e=function(){this.id="",this.percentage=0,this.value=0})||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/Reel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDirection.ts","./ResultReel.ts","./Tile.ts"],(function(t){"use strict";var e,i,n,r,o,l,s,a,u,c,p,f,h,y,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,a=t.Node,u=t.Layout,c=t.Enum,p=t.Prefab,f=t.instantiate,h=t.Component},function(t){y=t.default},function(t){b=t.default},function(t){g=t.default}],execute:function(){var d,D,m,v,w,C,P,R,z,T,S,k,_,E;l._RF.push({},"91e54zzGJ5Os6qxY73m4+B5","Reel",void 0);var x=s.ccclass,G=s.property;t("default",(d=x("Reel"),D=G({type:a}),m=G({type:u}),v=G({type:c(y.Direction)}),w=G({type:[a],visible:!1}),C=G({type:p}),P=G({type:p}),d((T=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"tileContainer",T,r(e)),n(e,"layoutComponent",S,r(e)),n(e,"spinDirection",k,r(e)),n(e,"tiles",_,r(e)),n(e,"_tilePrefab",E,r(e)),e.resultData=null,e}i(e,t);var l=e.prototype;return l.createReel=function(t,e,i){var n=this;if(this.tileContainer.children.length<=0){this.tiles=[],this.layoutComponent.enabled=!0;for(var r=0;r<t+2;r++)this.instantiateTile()}else this.tiles=this.getComponentsInChildren(g);this.tiles.forEach((function(t){t.initialize(n)})),this.spinDirection=i,this.shuffle()},l.instantiateTile=function(){var t=f(this.tilePrefab).getComponent(g);this.tiles.push(t),this.tileContainer.addChild(t.node)},l.shuffle=function(){this.tiles.forEach((function(t){t.setRandom()}))},l.readyStop=function(t,e){var i=this.spinDirection===y.Direction.Down||null==t;this.resultData=new b,this.resultData.selectedTokens=i?t:t.reverse(),this.resultData.winningTokens=e,this.stopSpinning()},l.doSpin=function(t){var e=this;this.layoutComponent.enabled=!1,this.tiles.forEach((function(i){i.startSpinning(e.spinDirection,t)}))},l.stopSpinning=function(){for(var t=0;t<this.tiles.length;t++)this.tiles[t].stopSpinning()},l.hasResult=function(){return null!=this.resultData&&this.resultData.selectedTokens.length>0},l.requestResult=function(){return this.resultData.getNextToken()},l.showGlowingTiles=function(){for(var t=0;t<this.tiles.length;t++)this.tiles[t].checkGlowEffect()},o(e,[{key:"tilePrefab",get:function(){return this._tilePrefab}}]),e}(h)).prototype,"tileContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"layoutComponent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"spinDirection",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Direction.Down}}),_=e(z.prototype,"tiles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=e(z.prototype,"_tilePrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(z.prototype,"tilePrefab",[P],Object.getOwnPropertyDescriptor(z.prototype,"tilePrefab"),z.prototype),R=z))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/RestManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Server.ts"],(function(e){"use strict";var r,t,n,i,a,s,u,o;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,u=e.Component},function(e){o=e.default}],execute:function(){var c,l,f,p,v;a._RF.push({},"3ac92QwwlpOE46PFAFwxiUT","RestManager",void 0);var h=s.ccclass,y=s.property;e("default",(c=h("RestManager"),l=y(o),c((v=r((p=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,n(r,"server",v,i(r)),r}t(r,e);var a=r.prototype;return a.requestReelResult=function(e,r){var t=this;return new Promise((function(n){n(t.server.GetMachineResult(e,r))}))},a.requestUserData=function(e){var r=this;return new Promise((function(t){var n=null==e?null:e.id;t(r.server.GetUserData(n))}))},a.requestMachineData=function(e){var r=this;return new Promise((function(t){t(r.server.GetMachineData(e))}))},r}(u)).prototype,"server",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResultData.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var s;e._RF.push({},"b12f2PWD2BKTbceiH4ji1An","ResultData",void 0);var i=n.ccclass;n.property,t("default",i("ResultData")(s=function(){function t(){this.selectedTokens=null,this.winningTokens=null,this.newUserData=null,this.totalPrize=0}return t.prototype.hasPrize=function(){return this.winningTokens.length>0},t}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultPossibilities.ts",["cc"],(function(s){"use strict";var t,i;return{setters:[function(s){t=s.cclegacy,i=s._decorator}],execute:function(){var e;t._RF.push({},"6f9930SzedBBb5ktDlLW6b8","ResultPossibilities",void 0);var c=i.ccclass;i.property,s("default",c("ResultPossibilities")(e=function(){this.possibilities=[]})||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/ResultReel.ts",["cc","./TokenData.ts"],(function(n){"use strict";var e,t,i;return{setters:[function(n){e=n.cclegacy,t=n._decorator},function(n){i=n.default}],execute:function(){var s;e._RF.push({},"1535fbg/GJD5qxlzLith4HS","ResultReel",void 0);var o=t.ccclass;t.property,n("default",o("ResultReel")(s=function(){function n(){this.selectedTokens=null,this.winningTokens=null}var e=n.prototype;return e.isTokenWinning=function(n){return this.winningTokens.filter((function(e){return e.tokenIndex.id==n})).length>0},e.getNextToken=function(){var n=new i;return n.tokenIndex=this.selectedTokens.pop(),n.isWinner=this.isTokenWinning(n.tokenIndex),n},n}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Server.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultData.ts","./MachineData.ts","./UserData.ts","./Possibility.ts"],(function(e){"use strict";var n,t,i,s,r,o,a,u,l;return{setters:[function(e){n=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,s=e._decorator,r=e.Component},function(e){o=e.default},function(e){a=e.default},function(e){u=e.default},function(e){l=e.default}],execute:function(){var c;i._RF.push({},"92342IX4HdM15Aav8qdJQY9","Server",void 0);var h=s.ccclass;s.property,e("WinData",(function(){this.rowIndex=0,this.tokenIndex=void 0,this.value=0})),e("default",h("Server")(c=function(e){function i(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this)._initialized=!1,n._machines={},n._users=[],n}n(i,e);var s=i.prototype;return s.checkInitialization=function(){this.initialize()},s.initialize=function(){this._initialized||(this._machines.Machine_5_reels=a.Machine_5_reels,this._initialized=!0)},s.GetMachineData=function(e){return this.checkInitialization(),null==this._machines[e]?null:this._machines[e]},s.FindTokenById=function(e,n){return e.resultPossibilities.possibilities.find((function(e){return e.id==n}))},s.FindTokenByPercentage=function(e){for(var n,i=e.resultPossibilities.possibilities,s=i.reduce((function(e,n){return e+n.percentage}),0),r=Math.floor(Math.random()*s),o=t(i);!(n=o()).done;){var a=n.value;if((r-=a.percentage)<0)return a}throw new Error("Could not choose a token")},s.GetRandomToken=function(e,n){for(var t,i=!1;!i;)t=this.FindTokenByPercentage(e),i=null==n||null!=n&&n.usedTokens.filter((function(e){return e==t.id})).length<=0;return t},s.GetMachineResult=function(e,n){var t=this.GetUserData(e),i=this.GetMachineData(n);if(t.wallet-i.betValue<0)return null;t.wallet-=i.betValue,null==i&&(i=a.Machine_5_reels);var s=new o;s.selectedTokens=[],s.newUserData=t;for(var r=[],u={},c=0;c<i.numberOfRows;c++)for(var h={token:new l,count:0},f=0;f<i.numberOfReels;f++){var d=this.GetRandomToken(i,u[f]),k=d.id;f in u||(u[f]={usedTokens:[]}),u[f].usedTokens.push(k),s.selectedTokens.length<f&&s.selectedTokens.push([]),null==s.selectedTokens[f]&&(s.selectedTokens[f]=[]),s.selectedTokens[f].push(k),h.token.id==k?(h.count++,h.count>=3&&(r[c]={rowIndex:c,tokenIndex:h.token,value:h.count*h.token.value})):(h.token=d,h.count=1)}if(s.winningTokens=r,s.hasPrize()){var v=0;s.winningTokens.forEach((function(e){v+=e.value})),v*=i.betValue,s.totalPrize=v,t.wallet+=v}return s},s.GetUserData=function(e){this.checkInitialization();var n=null;return null!=this._users?this._users.forEach((function(t){null==n&&t.id==e&&(n=t)})):this._users=[],null==n&&(n=new u,this._users.push(n)),n},i}(r))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDirection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,c=t.Component}],execute:function(){var i,r;o._RF.push({},"cbbb2wH3jBHYJaS87r8RQdn","SlotDirection",void 0);var u,s=e.ccclass;!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(u||(u={}));t("default",s("SlotDirection")(((r=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(c)).Direction=u,i=r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,l,u,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,u=t.Label,a=t.Button,s=t.Component}],execute:function(){var c,p,b,f,g,h,y;r._RF.push({},"e9bfeLwhFRJsKolM9X9tyE9","SpinButton",void 0);var d=l.ccclass,v=l.property;t("default",(c=d("SpinButton"),p=v(u),b=v(a),c((h=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"label",h,o(e)),i(e,"button",y,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.enable()},r.setLabel=function(t){this.label.string=t},r.toggleVisilibity=function(t){this.button.node.active=t},r.enable=function(){this.toggleStatus(!0)},r.disable=function(){this.toggleStatus(!1)},r.toggleStatus=function(t){this.button.interactable=t},e}(s)).prototype,"label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"button",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDirection.ts","./TokenIcon.ts"],(function(t){"use strict";var i,e,n,o,r,s,a,l,c,u,h,p,f,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.AudioSource,l=t.Sprite,c=t.Node,u=t.tween,h=t.Vec3,p=t.Component},function(t){f=t.default},function(t){d=t.default}],execute:function(){var g,S,w,b,y,k,D,v,T,E,M;r._RF.push({},"23da8goMpRLyoF0XDrNCKrG","Tile",void 0);var m=s.ccclass,R=s.property;t("default",(g=m("Tile"),S=R({type:[d],visible:!0}),w=R({type:a}),b=R({type:l}),y=R({type:c}),g((v=i((D=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"textures",v,o(i)),n(i,"audioSource",T,o(i)),n(i,"sprite",E,o(i)),n(i,"glowEffect",M,o(i)),i.parentReel=null,i.spinDirectionModifier=void 0,i.willStopSpinning=void 0,i.tokenData=void 0,i.currentSprite=void 0,i}e(i,t);var r=i.prototype;return r.initialize=function(t){this.parentReel=t,this.disableGlowEffect()},r.setToken=function(t){this.currentSprite=this.textures.find((function(i){return i.id==t})),this.sprite.spriteFrame=this.currentSprite.sprite},r.setRandom=function(){var t=Math.floor(Math.random()*this.textures.length);this.setToken(this.textures[t].id)},r.startSpinning=function(t,i){var e=this;this.tokenData=null,this.disableGlowEffect(),this.spinDirectionModifier=t==f.Direction.Up?1:-1;var n=u().target(this.node).delay(i),o=u().target(this.node).by(.25,{position:new h(0,144*this.spinDirectionModifier,0)},{easing:"backIn"}),r=u().call((function(){return e.changeTileToken()})),s=u().target(this.node).call((function(){return e.doContinueSpinning(5)}));n.then(o).then(r).then(s).start()},r.doContinueSpinning=function(t){var i=this;void 0===t&&(t=1),this.willStopSpinning=!1;var e=u().target(this.node).by(.04,{position:new h(0,144*this.spinDirectionModifier,0)}),n=u().target(this.node).call((function(){return i.changeTileToken()})),o=u().target(this.node).repeat(t,e.then(n)),r=u().target(this.node).call((function(){return i.checkSpinningHasEnded()}));o.then(r).start()},r.checkSpinningHasEnded=function(){this.willStopSpinning?(this.audioSource.play(),this.finnishSpinning()):this.doContinueSpinning()},r.changeTileToken=function(){this.node.position.y*this.spinDirectionModifier>288&&(this.node.position=new h(0,-288*this.spinDirectionModifier,0),this.parentReel.hasResult()&&(this.tokenData=this.parentReel.requestResult()),null==this.tokenData?this.setRandom():this.setToken(this.tokenData.tokenIndex))},r.stopSpinning=function(){this.willStopSpinning=!0},r.finnishSpinning=function(){var t=this,i=u().target(this.node).by(.04,{position:new h(0,144*this.spinDirectionModifier,0)},{easing:"bounceOut"}),e=u().target(this.node).call((function(){return t.changeTileToken()})),n=u().target(this.node).by(.2,{position:new h(0,144*this.spinDirectionModifier,0)},{easing:"bounceOut"});i.then(e).then(i).then(e).then(n).then(e).start()},r.checkGlowEffect=function(){null!=this.tokenData&&this.tokenData.isWinner&&this.enableGlowEffect()},r.enableGlowEffect=function(){this.toggleGlowEffect(!0)},r.disableGlowEffect=function(){this.toggleGlowEffect(!1)},r.toggleGlowEffect=function(t){null!=this.currentSprite&&(this.sprite.spriteFrame=t?this.currentSprite.glow:this.currentSprite.sprite)},i}(p)).prototype,"textures",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(D.prototype,"audioSource",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(D.prototype,"sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(D.prototype,"glowEffect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=D))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/TokenData.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var c;e._RF.push({},"b09e5Awk4lKR64tM+w0xm78","TokenData",void 0);var o=n.ccclass;n.property,t("default",o("TokenData")(c=function(){this.isWinner=void 0,this.tokenIndex=void 0})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TokenIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,o=e.CCString,l=e.SpriteFrame}],execute:function(){var c,a,p,s,u,y,b,d,f;r._RF.push({},"db271sctVdDgpFdjECo7+Wy","TokenIcon",void 0);var g=n.ccclass,h=n.property;e("default",(c=g("TokenIcon"),a=h({type:o}),p=h({type:l}),s=h({type:l}),c((b=t((y=function(){i(this,"id",b,this),i(this,"sprite",d,this),i(this,"glow",f,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(y.prototype,"sprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(y.prototype,"glow",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/User.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,l,s,u,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,u=e.Label,o=e.Component}],execute:function(){var c,p,d,f,h,b,y;l._RF.push({},"bccdcohDE9ELYWKrFoPu72g","User",void 0);var g=s.ccclass,D=s.property;e("default",(c=g("User"),p=D(u),d=D(u),c((b=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"userIdLabel",b,n(t)),i(t,"userIdWallet",y,n(t)),t.userData=void 0,t}return r(t,e),t.prototype.Update=function(e){this.userData=e,this.userIdLabel.string="UserId: "+e.id,this.userIdWallet.string="Wallet: $"+e.wallet},a(t,[{key:"id",get:function(){return null==this.userData?null:this.userData.id}}]),t}(o)).prototype,"userIdLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"userIdWallet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc"],(function(t){"use strict";var r,a;return{setters:[function(t){r=t.cclegacy,a=t._decorator}],execute:function(){var e;r._RF.push({},"e7814uwMktGXYaB3KQv53fR","UserData",void 0);var s=a.ccclass;a.property,t("default",s("UserData")(e=function(){this.id="",this.wallet=999,this.id=Math.floor(9999999*Math.random()).toString()})||e);r._RF.pop()}}}));
