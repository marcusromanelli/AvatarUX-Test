System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Machine.ts","./RestManager.ts","./User.ts"],(function(t){"use strict";var e,i,n,r,a,u,s,o,l,c,h,f,p,m,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,l=t.AudioSource,c=t.Button,h=t.AudioClip,f=t.Component},function(t){p=t.default},function(t){m=t.default},function(t){y=t.default}],execute:function(){var g,d,b,v,M,z,P,w,A,D,R,k,B,S,U;s._RF.push({},"7462271VdFN4J38ivhu1fP1","GameManager",void 0);var q=o.ccclass,C=o.property;t("default",(g=q("GameManager"),d=C(m),b=C(y),v=C(p),M=C(l),z=C({type:c}),P=C({type:h}),g((D=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,n(e,"restManager",D,r(e)),n(e,"user",R,r(e)),n(e,"machine",k,r(e)),n(e,"audioSource",B,r(e)),n(e,"autoPlayButton",S,r(e)),n(e,"audioClick",U,r(e)),e.result=null,e.isAutoPlay=!1,e}i(e,t);var s=e.prototype;return s.start=function(){this.initialize()},s.initialize=function(){var t=this;this.restManager.requestMachineData(this.machine.machineId).then((function(e){t.initializeMachine(e)})),this.restManager.requestUserData(this.user).then((function(e){t.refreshUserData(e)}))},s.initializeMachine=function(t){this.machine.SetData(t),this.machine.node.parent.active=!0},s.refreshUserData=function(t){this.user.Update(t)},s.clickButton=function(){this.machine.isSpinning||this.roll()},s.toggleAutoPlay=function(){this.isAutoPlay=!this.isAutoPlay,this.machine.setAutoPlay(this.isAutoPlay),this.clickButton()},s.stop=function(){if(null!=this.result){var t=this;this.machine.stop(this.result,(function(){t.isAutoPlay&&t.clickButton()})),this.result=null}},s.roll=function(){var t=this;!0!==this.machine.isSpinning&&this.requestResult((function(e){null!=e&&(t.refreshUserData(e.newUserData),t.result=e,t.machine.spin(),setTimeout((function(){t.stop()}),1e3*t.machine.minRunTime))}))},s.requestResult=function(){var t=a(u().mark((function t(e){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.result=null,this.restManager.requestReelResult(this.user.id,this.machine.machineId).then((function(t){e(t)}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(f)).prototype,"restManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"user",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"machine",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(A.prototype,"audioSource",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"autoPlayButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(A.prototype,"audioClick",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=A))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/Machine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpinButton.ts","./Reel.ts","./SlotDirection.ts"],(function(e){"use strict";var t,i,n,a,r,l,o,s,u,c,h,f,b,p,d,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,o=e._decorator,s=e.CCString,u=e.Label,c=e.Prefab,h=e.Widget,f=e.CCFloat,b=e.instantiate,p=e.tween,d=e.Component},function(e){m=e.default},function(e){y=e.default},function(e){g=e.default}],execute:function(){var w,D,P,v,S,R,_,C,L,O,z,T,A,B,M,W,I,k,F,N;l._RF.push({},"e75a3lPjzhNLb8z3HrM6PP0","Machine",void 0);var V=o.ccclass,j=o.property;e("default",(w=V("Machine"),D=j(s),P=j(u),v=j(u),S=j(m),R=j(c),_=j(h),C=j(u),L=j({type:c}),O=j({type:f,range:[.01,.5],slide:!0}),w((A=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"machineId",A,a(t)),n(t,"betValueLabel",B,a(t)),n(t,"autoPlaylabel",M,a(t)),n(t,"button",W,a(t)),n(t,"_reelPrefab",I,a(t)),n(t,"widget",k,a(t)),n(t,"celebration",F,a(t)),t._machineData=void 0,n(t,"minRunTime",N,a(t)),t.reelSpinDelaySpeed=.03,t.reels=[],t.isSpinning=!1,t.onFinishStop=void 0,t.isAutoPlay=!1,t}i(t,e);var l=t.prototype;return l.SetData=function(e){this._machineData=e,this.createMachine()},l.clearChildren=function(){this.node.removeAllChildren(),this.reels=[]},l.assignChildren=function(){var e=this;this.reels=this.node.getComponentsInChildren(y);var t=1;this.reels.forEach((function(i){var n=t%2?g.Direction.Down:g.Direction.Up;i.createReel(e._machineData.numberOfRows,t,n),t++}))},l.createMachine=function(){this.betValueLabel.string="Bet value: $"+this._machineData.betValue,this.clearChildren();for(var e=0;e<this._machineData.numberOfReels;e+=1){var t=e%2?g.Direction.Down:g.Direction.Up;this.instantiateReel(t,e)}this.widget.updateAlignment()},l.instantiateReel=function(e,t){var i=b(this.reelPrefab).getComponent(y);i.createReel(this._machineData.numberOfRows,t,e),this.node.addChild(i.node),this.reels.push(i)},l.spin=function(){this.isSpinning=!0,this.disableButton(),this.spinAllReels()},l.spinAllReels=function(){for(var e=0;e<this._machineData.numberOfReels;e++)this.spinReel(e)},l.spinReel=function(e){e<0&&(e=0),e>=this._machineData.numberOfReels&&(e=this._machineData.numberOfReels-1),this.reels[e].doSpin(this.reelSpinDelaySpeed*e)},l.showSpinButton=function(){this.showButtonWithLabel("SPIN")},l.showButtonWithLabel=function(e){this.isAutoPlay||this.button.enable(),this.button.setLabel(e)},l.disableButton=function(){this.button.disable()},l.calculateSpinStopDelayTime=function(e,t){return 1e3*(t<2+e?t/4:e*(t-2)+t/4)},l.setAutoPlay=function(e){e&&this.disableButton(),this.isAutoPlay=e,this.autoPlaylabel.string=e?"AUTOPLAY ON":""},l.stop=function(e,t){var i=this;this.disableButton();var n=Math.random()/2,a=this.calculateSpinStopDelayTime(n,this._machineData.numberOfReels);setTimeout((function(){i.isSpinning=!1}),a);for(var r=function(t){var a=i.calculateSpinStopDelayTime(n,t),r=i.reels[t];setTimeout((function(){r.readyStop(e.selectedTokens[t],e.winningTokens)}),a)},l=0;l<this._machineData.numberOfReels;l+=1)r(l);this.showCelebration(e,a,t)},l.showCelebration=function(e,t,i){var n,a=this;n=e.hasPrize()?p().target(this.celebration).call((function(){a.showCelebrationLabel(e.totalPrize)})).delay(2.5).call((function(){a.hideCelebrationLabel()})):p().target(this.node).delay(.25),p().target(this.node).delay(t/1e3).call((function(){a.showGlowingTiles()})).delay(.5).call((function(){a.showPopWins()})).delay(.5).then(n).call((function(){a.showSpinButton(),null!=i&&i()})).start()},l.showCelebrationLabel=function(e){this.celebration.string="WON $ "+e},l.hideCelebrationLabel=function(){this.celebration.string=""},l.showGlowingTiles=function(){for(var e=0;e<this._machineData.numberOfReels;e+=1){this.reels[e].showGlowingTiles()}},l.showPopWins=function(){for(var e=0;e<this._machineData.numberOfReels;e+=1){this.reels[e].showPopWins()}},r(t,[{key:"reelPrefab",get:function(){return this._reelPrefab},set:function(e){this._reelPrefab=e,null!==e&&this.createMachine()}}]),t}(d)).prototype,"machineId",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"machine_test_identification"}}),B=t(T.prototype,"betValueLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"autoPlaylabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"button",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"_reelPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"widget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"celebration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(T.prototype,"reelPrefab",[L],Object.getOwnPropertyDescriptor(T.prototype,"reelPrefab"),T.prototype),N=t(T.prototype,"minRunTime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=T))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/MachineData.ts",["cc"],(function(e){"use strict";var i,r;return{setters:[function(e){i=e.cclegacy,r=e._decorator}],execute:function(){var t,n;i._RF.push({},"ab676Fh1ndK+oxDwp2gAqrC","MachineData",void 0);var a=r.ccclass;r.property,e("default",a("MachineData")(((n=function(){this.resultPossibilities=null,this.numberOfReels=3,this.numberOfTokens=30,this.numberOfRows=3,this.betValue=1}).Machine_5_reels={resultPossibilities:{possibilities:[{id:"H3",percentage:4,value:100,triggersPopWin:!0},{id:"H2",percentage:8,value:90,triggersPopWin:!1},{id:"H4",percentage:12,value:80,triggersPopWin:!0},{id:"H1",percentage:16,value:70,triggersPopWin:!1},{id:"H5",percentage:20,value:60,triggersPopWin:!1},{id:"H6",percentage:24,value:50,triggersPopWin:!0},{id:"M1",percentage:28,value:40,triggersPopWin:!1},{id:"M2",percentage:32,value:30,triggersPopWin:!1},{id:"M3",percentage:34,value:20,triggersPopWin:!0},{id:"M4",percentage:36,value:15,triggersPopWin:!0},{id:"M5",percentage:38,value:10,triggersPopWin:!1},{id:"M6",percentage:40,value:5,triggersPopWin:!1},{id:"Q",percentage:42,value:4,triggersPopWin:!1},{id:"9",percentage:44,value:3,triggersPopWin:!0},{id:"10",percentage:48,value:2,triggersPopWin:!1},{id:"A",percentage:50,value:2,triggersPopWin:!1},{id:"K",percentage:52,value:2,triggersPopWin:!0},{id:"J",percentage:56,value:2,triggersPopWin:!1}]},numberOfReels:5,numberOfTokens:18,numberOfRows:3,betValue:1},t=n))||t);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./SlotDirection.ts","./GameManager.ts","./RestManager.ts","./Server.ts","./User.ts","./Machine.ts","./Reel.ts","./Tile.ts","./TilePopWin.ts","./MachineData.ts","./Possibility.ts","./ResultData.ts","./ResultPossibilities.ts","./ResultReel.ts","./TokenData.ts","./TokenIcon.ts","./UserData.ts","./SpinButton.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Possibility.ts",["cc"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.cclegacy,s=t._decorator}],execute:function(){var e;i._RF.push({},"5ac4fz+mxtGMYs2d7L2+ekD","Possibility",void 0);var c=s.ccclass;s.property,t("default",c("TokenPossibility")(e=function(){this.id="",this.percentage=0,this.value=0,this.triggersPopWin=!1})||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/Reel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDirection.ts","./ResultReel.ts","./Tile.ts"],(function(t){"use strict";var e,i,n,r,o,l,s,a,u,c,p,f,h,y,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,a=t.Node,u=t.Layout,c=t.Enum,p=t.Prefab,f=t.instantiate,h=t.Component},function(t){y=t.default},function(t){b=t.default},function(t){d=t.default}],execute:function(){var g,D,m,v,w,C,P,R,z,T,k,x,S,I;l._RF.push({},"91e54zzGJ5Os6qxY73m4+B5","Reel",void 0);var _=s.ccclass,E=s.property;t("default",(g=_("Reel"),D=E({type:a}),m=E({type:u}),v=E({type:c(y.Direction)}),w=E({type:[a],visible:!1}),C=E({type:p}),P=E({type:p}),g((T=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"tileContainer",T,r(e)),n(e,"layoutComponent",k,r(e)),n(e,"spinDirection",x,r(e)),n(e,"tiles",S,r(e)),n(e,"_tilePrefab",I,r(e)),e.resultData=null,e.reelIndex=-1,e}i(e,t);var l=e.prototype;return l.createReel=function(t,e,i){if(this.reelIndex=e,this.tileContainer.children.length<=0){this.tiles=[],this.layoutComponent.enabled=!0;for(var n=0;n<t+2;n++)this.instantiateTile()}else this.tiles=this.getComponentsInChildren(d);this.spinDirection=i,this.shuffle()},l.instantiateTile=function(){var t=f(this.tilePrefab).getComponent(d);t.initialize(this),this.tiles.push(t),this.tileContainer.addChild(t.node)},l.shuffle=function(){this.tiles.forEach((function(t){t.setRandom()}))},l.readyStop=function(t,e){var i=this.spinDirection===y.Direction.Down||null==t;this.resultData=new b,this.resultData.selectedTokens=i?t:t.reverse(),this.resultData.winningTokens=e,this.stopSpinning()},l.doSpin=function(t){var e=this;this.layoutComponent.enabled=!1,this.tiles.forEach((function(i){i.startSpinning(e.spinDirection,t)}))},l.stopSpinning=function(){for(var t=0;t<this.tiles.length;t++)this.tiles[t].stopSpinning()},l.hasResult=function(){return null!=this.resultData&&this.resultData.selectedTokens.length>0},l.requestResult=function(){return this.resultData.getNextToken(this.reelIndex)},l.showGlowingTiles=function(){for(var t=0;t<this.tiles.length;t++)this.tiles[t].checkGlowEffect()},l.showPopWins=function(){for(var t=0;t<this.tiles.length;t++)this.tiles[t].showPopWins()},o(e,[{key:"tilePrefab",get:function(){return this._tilePrefab}},{key:"ReelIndex",get:function(){return this.reelIndex}}]),e}(h)).prototype,"tileContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"layoutComponent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"spinDirection",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.Direction.Down}}),S=e(z.prototype,"tiles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(z.prototype,"_tilePrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(z.prototype,"tilePrefab",[P],Object.getOwnPropertyDescriptor(z.prototype,"tilePrefab"),z.prototype),R=z))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/RestManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Server.ts"],(function(e){"use strict";var r,t,n,i,a,s,u,o;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,u=e.Component},function(e){o=e.default}],execute:function(){var c,l,f,p,v;a._RF.push({},"3ac92QwwlpOE46PFAFwxiUT","RestManager",void 0);var h=s.ccclass,y=s.property;e("default",(c=h("RestManager"),l=y(o),c((v=r((p=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,n(r,"server",v,i(r)),r}t(r,e);var a=r.prototype;return a.requestReelResult=function(e,r){var t=this;return new Promise((function(n){n(t.server.GetMachineResult(e,r))}))},a.requestUserData=function(e){var r=this;return new Promise((function(t){var n=null==e?null:e.id;t(r.server.GetUserData(n))}))},a.requestMachineData=function(e){var r=this;return new Promise((function(t){t(r.server.GetMachineData(e))}))},r}(u)).prototype,"server",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResultData.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var s;e._RF.push({},"b12f2PWD2BKTbceiH4ji1An","ResultData",void 0);var i=n.ccclass;n.property,t("default",i("ResultData")(s=function(){function t(){this.selectedTokens=null,this.winningTokens=null,this.newUserData=null,this.totalPrize=0}return t.prototype.hasPrize=function(){return this.winningTokens.length>0},t}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultPossibilities.ts",["cc"],(function(s){"use strict";var t,i;return{setters:[function(s){t=s.cclegacy,i=s._decorator}],execute:function(){var e;t._RF.push({},"6f9930SzedBBb5ktDlLW6b8","ResultPossibilities",void 0);var c=i.ccclass;i.property,s("default",c("ResultPossibilities")(e=function(){this.possibilities=[]})||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/ResultReel.ts",["cc","./TokenData.ts"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.cclegacy,e=n._decorator},function(n){i=n.default}],execute:function(){var o;t._RF.push({},"1535fbg/GJD5qxlzLith4HS","ResultReel",void 0);var s=e.ccclass;e.property,n("default",s("ResultReel")(o=function(){function n(){this.selectedTokens=null,this.winningTokens=null}var t=n.prototype;return t.isTokenWinning=function(n,t){var e=this.winningTokens.find((function(e){return e.token.id==n&&t>=e.startsAt}));return null==e||e.winCount<=0?null:(e.winCount--,e)},t.getNextToken=function(n){var t=new i;return t.tokenIndex=this.selectedTokens.pop(),t.winnerData=this.isTokenWinning(t.tokenIndex,n),t},n}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/Server.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResultData.ts","./MachineData.ts","./UserData.ts","./Possibility.ts"],(function(n){"use strict";var t,e,i,o,s,r,a,u,l;return{setters:[function(n){t=n.inheritsLoose,e=n.createForOfIteratorHelperLoose},function(n){i=n.cclegacy,o=n._decorator,s=n.Component},function(n){r=n.default},function(n){a=n.default},function(n){u=n.default},function(n){l=n.default}],execute:function(){var c;i._RF.push({},"92342IX4HdM15Aav8qdJQY9","Server",void 0);var h=o.ccclass;o.property,n("PopWinData",(function(){this.rowIndex=0,this.token=void 0,this.won=void 0})),n("WinData",(function(){this.rowIndex=0,this.token=void 0,this.winCount=void 0,this.startsAt=void 0,this.popWinData=[]})),n("default",h("Server")(c=function(n){function i(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._initialized=!1,t._machines={},t._users=[],t}t(i,n);var o=i.prototype;return o.checkInitialization=function(){this.initialize()},o.initialize=function(){this._initialized||(this._machines.Machine_5_reels=a.Machine_5_reels,this._initialized=!0)},o.GetMachineData=function(n){return this.checkInitialization(),null==this._machines[n]?null:this._machines[n]},o.FindTokenById=function(n,t){return n.resultPossibilities.possibilities.find((function(n){return n.id==t}))},o.FindTokenByPercentage=function(n){for(var t,i=n.resultPossibilities.possibilities,o=i.reduce((function(n,t){return n+t.percentage}),0),s=Math.floor(Math.random()*o),r=e(i);!(t=r()).done;){var a=t.value;if((s-=a.percentage)<0)return a}throw new Error("Could not choose a token")},o.GetRandomToken=function(n,t){for(var e,i=!1;!i;)e=this.FindTokenByPercentage(n),i=null==t||null!=t&&t.usedTokens.filter((function(n){return n==e.id})).length<=0;return e},o.GetMachineResult=function(n,t){var e=this,i=this.GetUserData(n),o=this.GetMachineData(t);if(i.wallet-o.betValue<0)return null;i.wallet-=o.betValue,null==o&&(o=a.Machine_5_reels);var s=new r;s.selectedTokens=[],s.newUserData=i;for(var u=[],c={},h=0;h<o.numberOfRows;h++)for(var d={token:new l,count:0,startsAt:-1},f=0;f<o.numberOfReels;f++){var p=this.GetRandomToken(o,c[f]),k=p.id;f in c||(c[f]={usedTokens:[]}),c[f].usedTokens.push(k),s.selectedTokens.length<f&&s.selectedTokens.push([]),null==s.selectedTokens[f]&&(s.selectedTokens[f]=[]),s.selectedTokens[f].push(k),d.token.id==k?(d.count++,d.count>=3&&(u[h]={rowIndex:h,token:d.token,winCount:d.count,popWinData:[],startsAt:d.startsAt})):(d.token=p,d.count=1,d.startsAt=f)}if(u.forEach((function(n){if(n.token.triggersPopWin){var t=n.winCount;n.popWinData=[];for(var i=0;i<t;i++){var s=e.GetRandomToken(o,null),r=e.GetRandomToken(o,null),a=s.id==r.id;n.popWinData.push({rowIndex:n.rowIndex,token:s,won:a}),n.popWinData.push({rowIndex:n.rowIndex,token:r,won:a})}}})),s.winningTokens=u,s.hasPrize()){var v=0;s.winningTokens.forEach((function(n){v+=n.token.value*n.winCount,n.popWinData.length>0&&n.popWinData.forEach((function(n){n.won&&(v+=2*n.token.value)}))})),v*=o.betValue,s.totalPrize=v,i.wallet+=v}return s},o.GetUserData=function(n){this.checkInitialization();var t=null;return null!=this._users?this._users.forEach((function(e){null==t&&e.id==n&&(t=e)})):this._users=[],null==t&&(t=new u,this._users.push(t)),t},i}(s))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotDirection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,c=t.Component}],execute:function(){var i,r;o._RF.push({},"cbbb2wH3jBHYJaS87r8RQdn","SlotDirection",void 0);var u,s=e.ccclass;!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(u||(u={}));t("default",s("SlotDirection")(((r=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o}(c)).Direction=u,i=r))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,l,u,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,u=t.Label,a=t.Button,s=t.Component}],execute:function(){var c,p,b,f,g,h,y;r._RF.push({},"e9bfeLwhFRJsKolM9X9tyE9","SpinButton",void 0);var d=l.ccclass,v=l.property;t("default",(c=d("SpinButton"),p=v(u),b=v(a),c((h=e((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"label",h,o(e)),i(e,"button",y,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.enable()},r.setLabel=function(t){this.label.string=t},r.toggleVisilibity=function(t){this.button.node.active=t},r.enable=function(){this.toggleStatus(!0)},r.disable=function(){this.toggleStatus(!1)},r.toggleStatus=function(t){this.button.interactable=t},e}(s)).prototype,"label",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"button",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotDirection.ts","./TokenIcon.ts","./TilePopWin.ts"],(function(t){"use strict";var i,n,e,o,r,s,a,p,l,u,c,h,f,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.AudioSource,p=t.Sprite,l=t.tween,u=t.Vec3,c=t.Component},function(t){h=t.default},function(t){f=t.default},function(t){d=t.default}],execute:function(){var g,w,D,b,S,y,k,v,W,T,R,m,E;r._RF.push({},"23da8goMpRLyoF0XDrNCKrG","Tile",void 0);var M=s.ccclass,G=s.property;t("default",(g=M("Tile"),w=G({type:[f],visible:!0}),D=G({type:d}),b=G({type:d}),S=G({type:a}),y=G({type:p}),g((W=i((v=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,e(i,"textures",W,o(i)),e(i,"popWinUp",T,o(i)),e(i,"popWinDown",R,o(i)),e(i,"audioSource",m,o(i)),e(i,"sprite",E,o(i)),i.parentReel=null,i.spinDirectionModifier=void 0,i.willStopSpinning=void 0,i.tokenData=void 0,i.currentSprite=void 0,i}n(i,t);var r=i.prototype;return r.initialize=function(t){this.parentReel=t,this.disableGlowEffect()},r.reset=function(){this.popWinUp.hide(),this.popWinDown.hide()},r.setToken=function(t){this.currentSprite=this.textures.find((function(i){return i.id==t})),this.sprite.spriteFrame=this.currentSprite.sprite},r.setPopWinData=function(t){var i=t.token.id;this.setToken(i),t.won&&this.enableGlowEffect()},r.setTokenData=function(t){if(null!=t.winnerData&&t.winnerData.popWinData.length>0){var i=t.winnerData.popWinData[this.parentReel.ReelIndex],n=t.winnerData.popWinData[this.parentReel.ReelIndex+1];this.popWinUp.setWinData(i),this.popWinDown.setWinData(n)}var e=t.tokenIndex;this.setToken(e)},r.showPopWin=function(){},r.setRandom=function(){var t=Math.floor(Math.random()*this.textures.length);this.setToken(this.textures[t].id)},r.startSpinning=function(t,i){var n=this;this.reset(),this.tokenData=null,this.disableGlowEffect(),this.spinDirectionModifier=t==h.Direction.Up?1:-1;var e=l().target(this.node).delay(i),o=l().target(this.node).by(.25,{position:new u(0,144*this.spinDirectionModifier,0)},{easing:"backIn"}),r=l().call((function(){return n.changeTileToken()})),s=l().target(this.node).call((function(){return n.doContinueSpinning(5)}));e.then(o).then(r).then(s).start()},r.doContinueSpinning=function(t){var i=this;void 0===t&&(t=1),this.willStopSpinning=!1;var n=l().target(this.node).by(.04,{position:new u(0,144*this.spinDirectionModifier,0)}),e=l().target(this.node).call((function(){return i.changeTileToken()})),o=l().target(this.node).repeat(t,n.then(e)),r=l().target(this.node).call((function(){return i.checkSpinningHasEnded()}));o.then(r).start()},r.checkSpinningHasEnded=function(){this.willStopSpinning?(this.audioSource.play(),this.finnishSpinning()):this.doContinueSpinning()},r.changeTileToken=function(){this.node.position.y*this.spinDirectionModifier>288&&(this.node.position=new u(0,-288*this.spinDirectionModifier,0),this.parentReel.hasResult()&&(this.tokenData=this.parentReel.requestResult()),null==this.tokenData?this.setRandom():this.setTokenData(this.tokenData))},r.stopSpinning=function(){this.willStopSpinning=!0},r.finnishSpinning=function(){var t=this,i=l().target(this.node).by(.04,{position:new u(0,144*this.spinDirectionModifier,0)},{easing:"bounceOut"}),n=l().target(this.node).call((function(){return t.changeTileToken()})),e=l().target(this.node).by(.2,{position:new u(0,144*this.spinDirectionModifier,0)},{easing:"bounceOut"});i.then(n).then(i).then(n).then(e).then(n).start()},r.checkGlowEffect=function(){null!=this.tokenData&&this.tokenData.winnerData&&this.enableGlowEffect()},r.showPopWins=function(){this.popWinUp.showPopWin(),this.popWinDown.showPopWin()},r.enableGlowEffect=function(){this.toggleGlowEffect(!0)},r.disableGlowEffect=function(){this.toggleGlowEffect(!1)},r.toggleGlowEffect=function(t){null!=this.currentSprite&&(this.sprite.spriteFrame=t?this.currentSprite.glow:this.currentSprite.sprite)},i}(c)).prototype,"textures",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(v.prototype,"popWinUp",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"popWinDown",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(v.prototype,"audioSource",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(v.prototype,"sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=v))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/TilePopWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts"],(function(t){"use strict";var i,n,e,o,l;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.Component},function(t){l=t.default}],execute:function(){var a;n._RF.push({},"dbaba0AtnxJwK2Gc747I20W","TilePopWin",void 0);var s=e.ccclass;e.property,t("default",s("TilePopWin")(a=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).tile=void 0,i.popWinData=null,i}i(n,t);var e=n.prototype;return e.setWinData=function(t){this.popWinData=t,null==this.tile&&(this.tile=this.node.getComponent(l)),this.tile.setPopWinData(t)},e.hide=function(){this.popWinData=null,null!=this.tile&&(this.tile.node.active=!1)},e.showPopWin=function(){null!=this.popWinData&&(this.tile.node.active=!0)},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/TokenData.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){var a;e._RF.push({},"b09e5Awk4lKR64tM+w0xm78","TokenData",void 0);var c=n.ccclass;n.property,t("default",c("TokenData")(a=function(){this.winnerData=void 0,this.tokenIndex=void 0})||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TokenIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,o=e.CCString,l=e.SpriteFrame}],execute:function(){var c,a,p,s,u,y,b,d,f;r._RF.push({},"db271sctVdDgpFdjECo7+Wy","TokenIcon",void 0);var g=n.ccclass,h=n.property;e("default",(c=g("TokenIcon"),a=h({type:o}),p=h({type:l}),s=h({type:l}),c((b=t((y=function(){i(this,"id",b,this),i(this,"sprite",d,this),i(this,"glow",f,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(y.prototype,"sprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(y.prototype,"glow",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/User.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,a,l,s,u,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createClass},function(e){l=e.cclegacy,s=e._decorator,u=e.Label,o=e.Component}],execute:function(){var c,p,d,f,h,b,y;l._RF.push({},"bccdcohDE9ELYWKrFoPu72g","User",void 0);var g=s.ccclass,D=s.property;e("default",(c=g("User"),p=D(u),d=D(u),c((b=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"userIdLabel",b,n(t)),i(t,"userIdWallet",y,n(t)),t.userData=void 0,t}return r(t,e),t.prototype.Update=function(e){this.userData=e,this.userIdLabel.string="UserId: "+e.id,this.userIdWallet.string="Wallet: $"+e.wallet},a(t,[{key:"id",get:function(){return null==this.userData?null:this.userData.id}}]),t}(o)).prototype,"userIdLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"userIdWallet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc"],(function(t){"use strict";var r,a;return{setters:[function(t){r=t.cclegacy,a=t._decorator}],execute:function(){var e;r._RF.push({},"e7814uwMktGXYaB3KQv53fR","UserData",void 0);var s=a.ccclass;a.property,t("default",s("UserData")(e=function(){this.id="",this.wallet=999,this.id=Math.floor(9999999*Math.random()).toString()})||e);r._RF.pop()}}}));
